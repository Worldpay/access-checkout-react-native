{"version":3,"names":["useEffect","NativeEventEmitter","AccessCheckoutReactNative","AccessCheckout","cvcOnlyValidationNativeEventListenerOf","useCvcOnlyValidationEventListener","merchantListener","nativeEventListener","nativeEventEmitter","eventSubscription","addListener","CvcOnlyValidationEventType","remove","useCvcOnlyValidation","accessCheckout","cvcOnlyValidationConfig","initialiseCvcOnlyValidation"],"sources":["useCvcOnlyValidation.ts"],"sourcesContent":["import { useEffect } from 'react';\nimport { NativeEventEmitter } from 'react-native';\nimport AccessCheckoutReactNative, {\n  AccessCheckout,\n  CardValidationEventListener,\n} from '../index';\nimport type { CvcOnlyValidationEventListener } from '../validation/CvcOnlyValidationEventListener';\nimport { cvcOnlyValidationNativeEventListenerOf } from '../validation/CvcOnlyValidationEventListener';\n\nexport const useCvcOnlyValidationEventListener = (\n  merchantListener: CvcOnlyValidationEventListener\n) => {\n  useEffect(() => {\n    const nativeEventListener =\n      cvcOnlyValidationNativeEventListenerOf(merchantListener);\n    const nativeEventEmitter = new NativeEventEmitter(\n      AccessCheckoutReactNative\n    );\n\n    const eventSubscription = nativeEventEmitter.addListener(\n      AccessCheckout.CvcOnlyValidationEventType,\n      nativeEventListener\n    );\n\n    return () => {\n      eventSubscription.remove();\n    };\n  }, []);\n};\n\ninterface UseCvcOnlyValidationHook {\n  accessCheckout: AccessCheckout;\n  cvcOnlyValidationConfig: {\n    cvcId: string;\n  };\n  merchantListener: CardValidationEventListener;\n}\nexport const useCvcOnlyValidation = ({\n  accessCheckout,\n  cvcOnlyValidationConfig,\n  merchantListener,\n}: UseCvcOnlyValidationHook) => {\n  useCvcOnlyValidationEventListener(merchantListener);\n\n  const initialiseCvcOnlyValidation = () => {\n    return accessCheckout.initialiseCvcOnlyValidation(cvcOnlyValidationConfig);\n  };\n\n  return { initialiseCvcOnlyValidation };\n};\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,kBAAkB,QAAQ,cAAc;AACjD,OAAOC,yBAAyB,IAC9BC,cAAc,QAET,UAAU;AAEjB,SAASC,sCAAsC,QAAQ,8CAA8C;AAErG,OAAO,MAAMC,iCAAiC,GAC5CC,gBAAgD,IAC7C;EACHN,SAAS,CAAC,MAAM;IACd,MAAMO,mBAAmB,GACvBH,sCAAsC,CAACE,gBAAgB,CAAC;IAC1D,MAAME,kBAAkB,GAAG,IAAIP,kBAAkB,CAC/CC,yBACF,CAAC;IAED,MAAMO,iBAAiB,GAAGD,kBAAkB,CAACE,WAAW,CACtDP,cAAc,CAACQ,0BAA0B,EACzCJ,mBACF,CAAC;IAED,OAAO,MAAM;MACXE,iBAAiB,CAACG,MAAM,CAAC,CAAC;IAC5B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;AACR,CAAC;AASD,OAAO,MAAMC,oBAAoB,GAAGA,CAAC;EACnCC,cAAc;EACdC,uBAAuB;EACvBT;AACwB,CAAC,KAAK;EAC9BD,iCAAiC,CAACC,gBAAgB,CAAC;EAEnD,MAAMU,2BAA2B,GAAGA,CAAA,KAAM;IACxC,OAAOF,cAAc,CAACE,2BAA2B,CAACD,uBAAuB,CAAC;EAC5E,CAAC;EAED,OAAO;IAAEC;EAA4B,CAAC;AACxC,CAAC"}