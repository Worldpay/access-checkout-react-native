{"version":3,"names":["useEffect","NativeEventEmitter","AccessCheckout","AccessCheckoutReactNative","cardValidationNativeEventListenerOf","useCardValidationEventListener","merchantListener","nativeEventListener","nativeEventEmitter","eventSubscription","addListener","CardValidationEventType","remove","useCardValidation","accessCheckout","cardValidationConfig","initialiseCardValidation"],"sources":["useCardValidation.ts"],"sourcesContent":["import { useEffect } from 'react';\nimport { NativeEventEmitter } from 'react-native';\nimport AccessCheckout from '../AccessCheckout';\nimport AccessCheckoutReactNative from '../AccessCheckoutReactNative';\nimport {\n  CardValidationEventListener,\n  cardValidationNativeEventListenerOf,\n} from '../validation/CardValidationEventListener';\n\nexport function useCardValidationEventListener(\n  merchantListener: CardValidationEventListener\n) {\n  useEffect(() => {\n    const nativeEventListener =\n      cardValidationNativeEventListenerOf(merchantListener);\n    const nativeEventEmitter = new NativeEventEmitter(\n      AccessCheckoutReactNative\n    );\n\n    const eventSubscription = nativeEventEmitter.addListener(\n      AccessCheckout.CardValidationEventType,\n      nativeEventListener\n    );\n\n    return () => {\n      eventSubscription.remove();\n    };\n  }, []);\n}\n\ninterface UseCardValidationHook {\n  accessCheckout: AccessCheckout;\n  cardValidationConfig: {\n    panId: string;\n    expiryDateId: string;\n    cvcId: string;\n    enablePanFormatting?: boolean;\n    acceptedCardBrands?: string[];\n  };\n  merchantListener: CardValidationEventListener;\n}\nexport function useCardValidation({\n  accessCheckout,\n  cardValidationConfig,\n  merchantListener,\n}: UseCardValidationHook) {\n  useCardValidationEventListener(merchantListener);\n  const initialiseCardValidation = () => {\n    return accessCheckout.initialiseCardValidation(cardValidationConfig);\n  };\n\n  return { initialiseCardValidation };\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,kBAAkB,QAAQ,cAAc;AACjD,OAAOC,cAAc,MAAM,mBAAmB;AAC9C,OAAOC,yBAAyB,MAAM,8BAA8B;AACpE,SAEEC,mCAAmC,QAC9B,2CAA2C;AAElD,OAAO,SAASC,8BAA8BA,CAC5CC,gBAA6C,EAC7C;EACAN,SAAS,CAAC,MAAM;IACd,MAAMO,mBAAmB,GACvBH,mCAAmC,CAACE,gBAAgB,CAAC;IACvD,MAAME,kBAAkB,GAAG,IAAIP,kBAAkB,CAC/CE,yBACF,CAAC;IAED,MAAMM,iBAAiB,GAAGD,kBAAkB,CAACE,WAAW,CACtDR,cAAc,CAACS,uBAAuB,EACtCJ,mBACF,CAAC;IAED,OAAO,MAAM;MACXE,iBAAiB,CAACG,MAAM,CAAC,CAAC;IAC5B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;AACR;AAaA,OAAO,SAASC,iBAAiBA,CAAC;EAChCC,cAAc;EACdC,oBAAoB;EACpBT;AACqB,CAAC,EAAE;EACxBD,8BAA8B,CAACC,gBAAgB,CAAC;EAChD,MAAMU,wBAAwB,GAAGA,CAAA,KAAM;IACrC,OAAOF,cAAc,CAACE,wBAAwB,CAACD,oBAAoB,CAAC;EACtE,CAAC;EAED,OAAO;IAAEC;EAAyB,CAAC;AACrC"}