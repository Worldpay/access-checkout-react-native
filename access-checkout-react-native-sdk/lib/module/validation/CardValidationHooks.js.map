{"version":3,"sources":["CardValidationHooks.ts"],"names":["useEffect","NativeEventEmitter","AccessCheckoutReactNative","AccessCheckout","cardValidationNativeEventListenerOf","useCardValidationEventListener","merchantListener","console","debug","CardValidationEventType","nativeEventListener","nativeEventEmitter","eventSubscription","addListener","remove","useCardValidation","accessCheckout","cardValidationConfig","initialiseCardValidation"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,kBAAT,QAAmC,cAAnC;AACA,OAAOC,yBAAP,IACEC,cADF,EAGEC,mCAHF,QAIO,UAJP,C,CAKA;AACA;;AAGA,OAAO,SAASC,8BAAT,CACLC,gBADK,EAEL;AACAN,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,OAAO,CAACC,KAAR,CACG,0CAAyCL,cAAc,CAACM,uBAAwB,SADnF;AAIA,UAAMC,mBAAmB,GACvBN,mCAAmC,CAACE,gBAAD,CADrC;AAEA,UAAMK,kBAAkB,GAAG,IAAIV,kBAAJ,CACzBC,yBADyB,CAA3B;AAIA,UAAMU,iBAAiB,GAAGD,kBAAkB,CAACE,WAAnB,CACxBV,cAAc,CAACM,uBADS,EAExBC,mBAFwB,CAA1B;AAKA,WAAO,MAAM;AACXE,MAAAA,iBAAiB,CAACE,MAAlB;AACD,KAFD;AAGD,GAnBQ,EAmBN,EAnBM,CAAT;AAoBD;AAED,OAAO,SAASC,iBAAT,CACLC,cADK,EAELC,oBAFK,EAGLX,gBAHK,EAIL;AACAD,EAAAA,8BAA8B,CAACC,gBAAD,CAA9B;;AAEA,QAAMY,wBAAwB,GAAG,MAAM;AACrCX,IAAAA,OAAO,CAACC,KAAR,CAAe,yBAAf;AACA,WAAOQ,cAAc,CAACE,wBAAf,CAAwCD,oBAAxC,CAAP;AACD,GAHD;;AAKA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACD","sourcesContent":["import { useEffect } from 'react';\nimport { NativeEventEmitter } from 'react-native';\nimport AccessCheckoutReactNative, {\n  AccessCheckout,\n  CardValidationConfig,\n  cardValidationNativeEventListenerOf,\n} from '../index';\n// eslint-disable-next-line  @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport { CardValidationEventListener } from './CardValidationEventListener';\n\nexport function useCardValidationEventListener(\n  merchantListener: CardValidationEventListener\n) {\n  useEffect(() => {\n    console.debug(\n      `Adding CardValidationEventListener for ${AccessCheckout.CardValidationEventType} events`\n    );\n\n    const nativeEventListener =\n      cardValidationNativeEventListenerOf(merchantListener);\n    const nativeEventEmitter = new NativeEventEmitter(\n      AccessCheckoutReactNative\n    );\n\n    const eventSubscription = nativeEventEmitter.addListener(\n      AccessCheckout.CardValidationEventType,\n      nativeEventListener\n    );\n\n    return () => {\n      eventSubscription.remove();\n    };\n  }, []);\n}\n\nexport function useCardValidation(\n  accessCheckout: AccessCheckout,\n  cardValidationConfig: CardValidationConfig,\n  merchantListener: CardValidationEventListener\n) {\n  useCardValidationEventListener(merchantListener);\n\n  const initialiseCardValidation = () => {\n    console.debug(`Initialising validation`);\n    return accessCheckout.initialiseCardValidation(cardValidationConfig);\n  };\n\n  return { initialiseCardValidation };\n}\n"]}