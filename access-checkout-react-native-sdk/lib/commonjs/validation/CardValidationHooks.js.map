{"version":3,"sources":["CardValidationHooks.ts"],"names":["useCardValidationEventListener","merchantListener","nativeEventListener","nativeEventEmitter","NativeEventEmitter","AccessCheckoutReactNative","eventSubscription","addListener","AccessCheckout","CardValidationEventType","remove","useCardValidation","accessCheckout","cardValidationConfig","initialiseCardValidation"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAMA;;;;AAFA;AACA;AAMO,SAASA,8BAAT,CACLC,gBADK,EAEL;AACA,wBAAU,MAAM;AACd,UAAMC,mBAAmB,GACvB,sEAAoCD,gBAApC,CADF;AAEA,UAAME,kBAAkB,GAAG,IAAIC,+BAAJ,CACzBC,kCADyB,CAA3B;AAIA,UAAMC,iBAAiB,GAAGH,kBAAkB,CAACI,WAAnB,CACxBC,wBAAeC,uBADS,EAExBP,mBAFwB,CAA1B;AAKA,WAAO,MAAM;AACXI,MAAAA,iBAAiB,CAACI,MAAlB;AACD,KAFD;AAGD,GAfD,EAeG,EAfH;AAgBD;;AAEM,SAASC,iBAAT,CACLC,cADK,EAELC,oBAFK,EAGLZ,gBAHK,EAIL;AACAD,EAAAA,8BAA8B,CAACC,gBAAD,CAA9B;;AAEA,QAAMa,wBAAwB,GAAG,MAAM;AACrC,WAAOF,cAAc,CAACE,wBAAf,CAAwCD,oBAAxC,CAAP;AACD,GAFD;;AAIA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACD","sourcesContent":["import { useEffect } from 'react';\nimport { NativeEventEmitter } from 'react-native';\nimport AccessCheckout from '../AccessCheckout';\nimport AccessCheckoutReactNative from '../AccessCheckoutReactNative';\n// eslint-disable-next-line  @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport CardValidationConfig from './CardValidationConfig';\n// eslint-disable-next-line  @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport {\n  CardValidationEventListener,\n  cardValidationNativeEventListenerOf,\n} from './CardValidationEventListener';\n\nexport function useCardValidationEventListener(\n  merchantListener: CardValidationEventListener\n) {\n  useEffect(() => {\n    const nativeEventListener =\n      cardValidationNativeEventListenerOf(merchantListener);\n    const nativeEventEmitter = new NativeEventEmitter(\n      AccessCheckoutReactNative\n    );\n\n    const eventSubscription = nativeEventEmitter.addListener(\n      AccessCheckout.CardValidationEventType,\n      nativeEventListener\n    );\n\n    return () => {\n      eventSubscription.remove();\n    };\n  }, []);\n}\n\nexport function useCardValidation(\n  accessCheckout: AccessCheckout,\n  cardValidationConfig: CardValidationConfig,\n  merchantListener: CardValidationEventListener\n) {\n  useCardValidationEventListener(merchantListener);\n\n  const initialiseCardValidation = () => {\n    return accessCheckout.initialiseCardValidation(cardValidationConfig);\n  };\n\n  return { initialiseCardValidation };\n}\n"]}