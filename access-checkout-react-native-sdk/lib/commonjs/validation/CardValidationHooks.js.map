{"version":3,"names":["_react","require","_reactNative","_AccessCheckout","_interopRequireDefault","_AccessCheckoutReactNative","_CardValidationEventListener","obj","__esModule","default","useCardValidationEventListener","merchantListener","useEffect","nativeEventListener","cardValidationNativeEventListenerOf","nativeEventEmitter","NativeEventEmitter","AccessCheckoutReactNative","eventSubscription","addListener","AccessCheckout","CardValidationEventType","remove","useCardValidation","accessCheckout","cardValidationConfig","initialiseCardValidation","initialiseCardValidationPoc"],"sources":["CardValidationHooks.ts"],"sourcesContent":["import { useEffect } from 'react';\nimport { NativeEventEmitter } from 'react-native';\nimport AccessCheckout from '../AccessCheckout';\nimport AccessCheckoutReactNative from '../AccessCheckoutReactNative';\n// eslint-disable-next-line  @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport CardValidationConfig from './CardValidationConfig';\n// eslint-disable-next-line  @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport {\n  CardValidationEventListener,\n  cardValidationNativeEventListenerOf,\n} from './CardValidationEventListener';\n\nexport function useCardValidationEventListener(\n  merchantListener: CardValidationEventListener\n) {\n  useEffect(() => {\n    const nativeEventListener =\n      cardValidationNativeEventListenerOf(merchantListener);\n    const nativeEventEmitter = new NativeEventEmitter(\n      AccessCheckoutReactNative\n    );\n\n    const eventSubscription = nativeEventEmitter.addListener(\n      AccessCheckout.CardValidationEventType,\n      nativeEventListener\n    );\n\n    return () => {\n      eventSubscription.remove();\n    };\n  }, []);\n}\n\nexport function useCardValidation(\n  accessCheckout: AccessCheckout,\n  cardValidationConfig: CardValidationConfig,\n  merchantListener: CardValidationEventListener\n) {\n  useCardValidationEventListener(merchantListener);\n\n  const initialiseCardValidation = () => {\n    return accessCheckout.initialiseCardValidation(cardValidationConfig);\n  };\n  const initialiseCardValidationPoc = () => {\n    return accessCheckout.initialiseCardValidationPoc(cardValidationConfig);\n  };\n\n  return { initialiseCardValidation, initialiseCardValidationPoc };\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,eAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,0BAAA,GAAAD,sBAAA,CAAAH,OAAA;AAMA,IAAAK,4BAAA,GAAAL,OAAA;AAGuC,SAAAG,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AARvC;AACA;;AAEA;AACA;;AAMO,SAASG,8BAA8BA,CAC5CC,gBAA6C,EAC7C;EACA,IAAAC,gBAAS,EAAC,MAAM;IACd,MAAMC,mBAAmB,GACvB,IAAAC,gEAAmC,EAACH,gBAAgB,CAAC;IACvD,MAAMI,kBAAkB,GAAG,IAAIC,+BAAkB,CAC/CC,kCACF,CAAC;IAED,MAAMC,iBAAiB,GAAGH,kBAAkB,CAACI,WAAW,CACtDC,uBAAc,CAACC,uBAAuB,EACtCR,mBACF,CAAC;IAED,OAAO,MAAM;MACXK,iBAAiB,CAACI,MAAM,CAAC,CAAC;IAC5B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;AACR;AAEO,SAASC,iBAAiBA,CAC/BC,cAA8B,EAC9BC,oBAA0C,EAC1Cd,gBAA6C,EAC7C;EACAD,8BAA8B,CAACC,gBAAgB,CAAC;EAEhD,MAAMe,wBAAwB,GAAGA,CAAA,KAAM;IACrC,OAAOF,cAAc,CAACE,wBAAwB,CAACD,oBAAoB,CAAC;EACtE,CAAC;EACD,MAAME,2BAA2B,GAAGA,CAAA,KAAM;IACxC,OAAOH,cAAc,CAACG,2BAA2B,CAACF,oBAAoB,CAAC;EACzE,CAAC;EAED,OAAO;IAAEC,wBAAwB;IAAEC;EAA4B,CAAC;AAClE"}